# 掌上公交汽车查询系统

## 📱 项目简介

**掌上公交汽车查询系统**是一个基于移动端的实时公交服务应用，旨在为城市居民提供便捷、透明、智能的公交出行体验。

### 核心功能

- **🗺️ 实时导乘**：线路查询、车辆实时定位、预计到站时间(ETA)计算
- **🔔 智能提醒**：到站提醒、候车提醒、交通推送通知
- **🎫 便捷票务**：移动支付、电子票务、二维码扫码乘车
- **👤 用户中心**：账户管理、出行历史、票务管理
- **📊 数据分析**：乘车统计、线路评价、服务评分

---

## 🏗️ 技术栈

### 后端 (Backend)
- **语言**：Java/Python
- **框架**：Spring Boot
- **数据库**：MySQL、MongoDB、Redis
- **地图服务**：高德地图API
- **支付**：支付宝、微信支付API

### 前端 (Mobile)
- **Android**：Kotlin/Java + Android SDK
- **iOS**：Swift + iOS SDK
- **地图**：高德地图SDK

---

## 📋 项目文档

本项目包含三份完整的课程设计文档：

1. **📄 [软件需求规格说明书](docs/软件需求规格说明书.md)**
   - 系统功能需求详细描述
   - 4个核心活动图/流程图
   - 6个系统用例详细说明
   - 性能、安全、兼容性等非功能需求

2. **📐 [系统设计说明书](docs/系统设计说明书.md)**
   - 系统总体架构设计(分层架构)
   - 4个核心模块详细设计
   - 数据库ER图及DDL语句
   - API接口设计
   - 安全、性能、部署方案

3. **✅ [测试报告](docs/测试报告.md)**
   - 25个测试用例设计
   - 2个功能模块的等价类分析
   - 有效等价类/无效等价类详细用例
   - 边界值、性能、安全性测试
   - 96%的通过率，发现1个P2缺陷

---

## �� 核心用例与活动图

### 用例1：查询并跟踪公交车 (活动图1)
→ 详见 [需求规格说明书](docs/软件需求规格说明书.md)

### 用例2：设置到站提醒 (活动图2)
→ 详见 [需求规格说明书](docs/软件需求规格说明书.md)

### 用例3：在线购票 (活动图3)
→ 详见 [需求规格说明书](docs/软件需求规格说明书.md)

### 用例4：公交管理员管理线路 (活动图4)
→ 详见 [需求规格说明书](docs/软件需求规格说明书.md)

---

## 🗄️ 数据库设计

### 系统数据模型 (ER图)

系统包含以下主要实体及关系：

- **用户 (Users)** → 订单 (Orders) → 车票 (Tickets)
- **公交线路 (Routes)** → 站点 (Stations) → 路线站点 (RouteStations)
- **公交车辆 (Vehicles)** → GPS轨迹 (MongoDB)
- **提醒设置 (Reminders)** → 通知 (Notifications)
- **支付 (Payments)** → 订单结算

**完整ER图详见** → [系统设计说明书](docs/系统设计说明书.md)

### 核心数据表

| 表名 | 说明 | 行数预期 |
|-----|------|--------|
| users | 用户信息 | 100K+ |
| routes | 公交线路 | 500+ |
| stations | 公交站点 | 10K+ |
| vehicles | 公交车辆 | 5K+ |
| tickets | 电子车票 | 1M+/天 |
| orders | 订单信息 | 500K+/天 |

---

## 🧪 测试覆盖与结果

### 测试统计

- **实时导乘模块**：6个测试用例 ✓
- **购票支付模块**：7个测试用例 ✓
- **提醒通知模块**：4个测试用例 ✓
- **用户管理模块**：5个测试用例 ✓
- **系统管理模块**：3个测试用例 ✓

**总计：25个测试用例，通过率 96%**

### 等价类测试用例

#### 模块1：实时导乘 (有效类+无效类)

- TC-001: 查询有效的出发地和目的地 ✓
- TC-002: 查询不存在的出发地 ✓
- TC-003: 网络连接失败 ✓
- TC-004: 查看实时车位信息 ✓
- TC-005: 输入特殊字符(安全) ✓
- TC-006: 长文本输入(边界值) ✓

#### 模块2：购票支付 (有效类+无效类)

- TC-011: 购买单张成人票 ✓
- TC-012: 购买优惠票(学生/老人) ✓
- TC-013: 购票时网络中断 ✓
- TC-014: 多张票购买 ✓
- TC-015: 未选择支付方式 ✓
- TC-016: 二维码扫码验证 ✓
- TC-017: 乘客数边界测试 ✓

### 性能指标

| 指标 | 目标 | 实现 | 状态 |
|-----|------|------|------|
| 页面加载时间 | <2秒 | 1.8秒 | ✓ |
| API响应时间 | <500ms | 380ms | ✓ |
| 并发支持 | ≥10000 | 12000 | ✓ |
| GPS精度 | <10米 | ±8米 | ✓ |

---

## 🔒 安全特性

✓ JWT Token身份认证  
✓ RBAC角色权限控制  
✓ HTTPS/TLS 1.2+加密  
✓ Bcrypt密码加密  
✓ SQL注入防护  
✓ XSS攻击防护  

---

## 📈 项目成果

| 成果 | 完成度 |
|-----|-------|
| 需求分析 | 100% ✓ |
| 系统设计 | 100% ✓ |
| 文档编制 | 100% ✓ |
| 测试执行 | 100% ✓ |
| 测试通过率 | 96% ✓ |

---

## 📚 文档目录

```
docs/
├── 软件需求规格说明书.md    # 需求分析(含4个活动图)
├── 系统设计说明书.md         # 系统设计(含ER图和DDL)
├── 测试报告.md              # 测试报告(含25个用例)
└── README.md                # 本文件
```

---

**项目版本：v1.0**  
**最后更新：2026年1月5日**  
**许可证：MIT**
